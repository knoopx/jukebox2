.page-header
  %h1 Artists

  = navigation(:class => :pills, :namespace => :scope) do |n|
    - n.default link_to "All", artists_path
    - n.favorited link_to "Favorited", artists_path(:scope => :favorited)

  = form_for(@search, :url => collection_path, :html => {:class => "form-stacked"}) do |f|
    %fieldset
      = f.label :name_like
      = f.text_field :name_like

%table
  %thead
    %tr
      %th Name
      %th Genres
      %th= sort_link(@search, :play_count)
      %th= sort_link(@search, :listeners)
      %th{:width => 160}
  %tbody
    - collection.each do |resource|
      %tr
        %td
          %span= link_to resource.name, resource
        %td= raw resource.genres.take(10).map { |genre| link_to genre.name, genre_artists_path(genre) }.to_sentence
        %td= resource.play_count
        %td= resource.listeners
        %td
          = link_to "Play All", nil, :class => "btn success", "data-play-artist" => resource.id
          = favorite_button(resource)

= paginate(collection)